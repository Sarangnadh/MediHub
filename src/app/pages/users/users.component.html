
<div class="container mt-4">
  <h2 class="mb-4 text-primary fw-bold">All Registered Users</h2>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <div class="col" *ngFor="let user of allUsers">
      <mat-card class="h-100 rounded-4 shadow-lg border border-light">
        <mat-card-header class="bg-light rounded-top-4">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h5 class="mb-0 text-primary">{{ user.name }}</h5>
              <small class="text-muted">Joined {{ user.createdAt | date:'mediumDate' }}</small>
            </div>
            <!-- Action Buttons -->
            <div class="btn-group">
              <button mat-icon-button color="primary" matTooltip="Edit User" (click)="editUser(user)">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button color="warn" matTooltip="Delete User" (click)="deleteUser()">
                <mat-icon>delete</mat-icon>
              </button>
            </div>
          </div>
        </mat-card-header>

        <mat-card-content class="mt-2">
          <p class="mb-1"><strong>Email:</strong> {{ user.email }}</p>
          <p class="mb-1"><strong>Role:</strong>  {{ user.role }}</p>
          <p class="mb-1"><strong>Appointments:</strong> {{ user.appointments?.length || 0 }}</p>
          <p class="mb-1 text-success"><strong>Approved:</strong> {{ user.approvedAppointments?.length || 0 }}</p>
          <p class="mb-1 text-danger"><strong>Cancelled:</strong> {{ user.cancelledAppointments?.length || 0 }}</p>
          <p class="mt-3 text-muted"><strong>Last Updated:</strong> {{ user.updatedAt | date:'short' }}</p>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
